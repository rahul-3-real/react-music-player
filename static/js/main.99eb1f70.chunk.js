(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(2),i=t.n(n),r=t(10),c=t.n(r),s=t(5),o=t(8),u=t(4),d=t.n(u),l=t(3),j=t(6),m=t(1),b=function(e){var a=e.song,t=e.songs,n=e.id,i=e.setCurrentSong,r=e.audioRef,c=e.isPlaying,s=e.setSongs,o=function(){var e=Object(j.a)(d.a.mark((function e(){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a);case 2:o=t.map((function(e){return e.id===n?Object(l.a)(Object(l.a)({},e),{},{active:!0}):Object(l.a)(Object(l.a)({},e),{},{active:!1})})),s(o),c&&r.current.play();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("li",{onClick:o,className:"item ".concat(a.active?"active":""),children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:a.cover,alt:a.name})}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("h5",{children:a.name}),Object(m.jsx)("h6",{children:a.album})]})]})},g=function(e){var a=e.songs,t=e.setCurrentSong,n=e.audioRef,i=e.isPlaying,r=e.setSongs,c=e.libraryStatus,s=e.setLibraryStatus;return Object(m.jsxs)("aside",{className:"library ".concat(c?"active":""),children:[Object(m.jsxs)("h5",{className:"title",children:[Object(m.jsx)("span",{children:"Library"}),Object(m.jsx)("button",{className:"toggle",onClick:function(){return s(!c)},children:Object(m.jsx)(o.a,{})})]}),Object(m.jsx)("ul",{className:"list",children:a.map((function(e){return Object(m.jsx)(b,{song:e,id:e.id,songs:a,setCurrentSong:t,audioRef:n,isPlaying:i,setSongs:r},e.id)}))})]})},h=t(7),p=function(e){var a=e.currentSong,t=e.isPlaying,n=e.setIsPlaying,i=e.audioRef,r=e.songInfo,c=e.setSongInfo,s=e.setSongs,o=e.songs,u=e.setCurrentSong,b=function(e){var a=o.map((function(a){return a.id===e.id?Object(l.a)(Object(l.a)({},a),{},{active:!0}):Object(l.a)(Object(l.a)({},a),{},{active:!1})}));s(a)},g=function(e){var a=e.target.currentTime,t=e.target.duration,n=Math.round(a),i=Math.round(t),s=Math.round(n/i*100);c(Object(l.a)(Object(l.a)({},r),{},{currentTime:a,duration:t,animationPercentage:s}))},p=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},O=function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.findIndex((function(e){return e.id===a.id})),"skip-next"!==n){e.next=5;break}return e.next=4,u(o[(r+1)%o.length]);case 4:b(o[(r+1)%o.length]);case 5:if("skip-prev"!==n){e.next=15;break}if((r-1)%o.length!==-1){e.next=12;break}return e.next=9,u(o[o.length-1]);case 9:return b(o[o.length-1]),t&&i.current.play(),e.abrupt("return");case 12:return e.next=14,u(o[(r-1)%o.length]);case 14:b(o[(r-1)%o.length]);case 15:t&&i.current.play();case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.findIndex((function(e){return e.id===a.id})),e.next=3,u(o[(n+1)%o.length]);case 3:t&&i.current.play();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={transform:"translateX(".concat(r.animationPercentage,"%)")};return Object(m.jsxs)("div",{className:"player",children:[Object(m.jsxs)("div",{className:"progress",children:[Object(m.jsx)("input",{type:"range",min:0,max:r.duration||0,value:r.currentTime,onChange:function(e){i.current.currentTime=e.target.value,c(Object(l.a)(Object(l.a)({},r),{},{currentTime:e.target.value}))}}),Object(m.jsx)("div",{className:"track",style:x}),Object(m.jsx)("audio",{ref:i,onTimeUpdate:g,onLoadedMetadata:g,onEnded:v,src:a.audio,className:"audio"})]}),Object(m.jsxs)("div",{className:"controls",children:[Object(m.jsx)("p",{className:"time-step",children:p(r.currentTime)}),Object(m.jsxs)("div",{className:"play-control",children:[Object(m.jsx)("button",{onClick:function(){return O("skip-prev")},className:"prev-btn",children:Object(m.jsx)(h.a,{})}),Object(m.jsx)("button",{onClick:function(){t?(i.current.pause(),n(!t)):(i.current.play(),n(!t))},className:"play-btn",children:t?Object(m.jsx)(h.d,{}):Object(m.jsx)(h.c,{})}),Object(m.jsx)("button",{onClick:function(){return O("skip-next")},className:"next-btn",children:Object(m.jsx)(h.b,{})})]}),Object(m.jsx)("p",{className:"time-end",children:r.duration?p(r.duration):"0:00"})]})]})},O=function(e){var a=e.currentSong;return Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:a.cover,alt:a.name})}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("h4",{children:a.name}),Object(m.jsx)("h6",{children:a.album})]})]})},v=(t(17),function(){return[{id:1,name:"Above",album:"Haikyuu",cover:"./data/images/above-haikyuu.jpg",audio:"./data/audio/above-haikyuu.mp3",active:!0},{id:2,name:"Crossing Fields",album:"Swords Art Online",cover:"./data/images/crossing-fields-sword-art-online.jpg",audio:"./data/audio/crossing-fields-sword-art-online.mp3",active:!1},{id:3,name:"Fly High",album:"Haikyuu",cover:"./data/images/fly-high-haikyuu.jpg",audio:"./data/audio/fly-high-haikyuu.mp3",active:!1},{id:4,name:"Hikaru Nara",album:"Your Lie In April",cover:"./data/images/hikaru-nara-your-lie-in-april.jpg",audio:"./data/audio/hikaru-nara-your-lie-in-april.mp3",active:!1},{id:5,name:"Kataware Doki",album:"Kimi No Nawa",cover:"./data/images/kataware-doki-kimi-no-nawa.jpg",audio:"./data/audio/kataware-doki-kimi-no-nawa.mp3",active:!1},{id:6,name:"Saitama",album:"One Punch Man",cover:"./data/images/saitama-one-punch-man.jpg",audio:"./data/audio/saitama-one-punch-man.mp3",active:!1},{id:7,name:"Secret Base",album:"AnoHana",cover:"./data/images/secret-base-anohana.jpg",audio:"./data/audio/secret-base-anohana.mp3",active:!1},{id:8,name:"Tanjiro No Uta",album:"Demon Slayer",cover:"./data/images/tanjiro-no-uta-demon-slayer.jpg",audio:"./data/audio/tanjiro-no-uta-demon-slayer.mp3",active:!1},{id:9,name:"Uso",album:"Fullmetal Alchemist",cover:"./data/images/uso-fullmetal-alchemist.jpg",audio:"./data/audio/uso-fullmetal-alchemist.mp3",active:!1},{id:10,name:"Yamiyo",album:"Dororo",cover:"./data/images/yamiyo-dororo.jpg",audio:"./data/audio/yamiyo-dororo.mp3",active:!1},{id:11,name:"You Say Run",album:"My Hero Academia",cover:"./data/images/you-say-run-my-hero-academia.jpg",audio:"./data/audio/you-say-run-my-hero-academia.mp3",active:!1}]}),x=function(){var e=Object(n.useRef)(null),a=Object(n.useState)(v()),t=Object(s.a)(a,2),i=t[0],r=t[1],c=Object(n.useState)(i[0]),u=Object(s.a)(c,2),d=u[0],l=u[1],j=Object(n.useState)(!1),b=Object(s.a)(j,2),h=b[0],x=b[1],f=Object(n.useState)({currentTime:0,duration:0,animationPercentage:0}),y=Object(s.a)(f,2),k=y[0],S=y[1],N=Object(n.useState)(!1),w=Object(s.a)(N,2),C=w[0],P=w[1];return Object(m.jsxs)("main",{children:[Object(m.jsxs)("section",{className:"".concat(C?"":"active-player"),children:[Object(m.jsxs)("header",{children:[Object(m.jsxs)("h1",{className:"logo",children:["LoFi",Object(m.jsx)("span",{children:"."})]}),Object(m.jsx)("button",{className:"toggle",onClick:function(){return P(!C)},children:Object(m.jsx)(o.a,{})})]}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(O,{currentSong:d}),Object(m.jsx)(p,{currentSong:d,isPlaying:h,setIsPlaying:x,audioRef:e,songInfo:k,setSongInfo:S,songs:i,setSongs:r,setCurrentSong:l})]})]}),Object(m.jsx)(g,{songs:i,setCurrentSong:l,audioRef:e,isPlaying:h,setSongs:r,libraryStatus:C,setLibraryStatus:P})]})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),n(e),i(e),r(e),c(e)}))};c.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),f()}},[[18,1,2]]]);
//# sourceMappingURL=main.99eb1f70.chunk.js.map